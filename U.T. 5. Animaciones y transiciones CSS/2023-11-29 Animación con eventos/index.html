<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/style.css">

    <script type="module">
        document.addEventListener("DOMContentLoaded", _ => {
            setupButton();
            setupLastBall();
        })

        function setupButton() {
            const nButton = document.querySelector('.button');
            nButton.addEventListener('click', startBallsFalling);
        }

        function startBallsFalling() {
            const nBalls = Array.from(document.querySelectorAll('.ball'));

            nBalls.forEach(nBall => {
                // nBall.style.animationPlayState = 'running';
                nBall.classList.remove('paused');
            });
        }

        function setupLastBall() {
            const nBall = document.querySelector('.ball[style="--delay: 9"]');
            nBall.addEventListener('animationend', startClock);
        }

        function startClock() {
            const nClockhand = document.querySelector('.clockhand');
            // nClockhand.style.animationPlayState = 'running';
            nClockhand.classList.remove('paused');
        }

    </script>
</head>

<body>
    <div class="ball paused" style="--delay: 0"></div>
    <div class="ball paused" style="--delay: 1"></div>
    <div class="ball paused" style="--delay: 2"></div>
    <div class="ball paused" style="--delay: 3"></div>
    <div class="ball paused" style="--delay: 4"></div>
    <div class="ball paused" style="--delay: 5"></div>
    <div class="ball paused" style="--delay: 6"></div>
    <div class="ball paused" style="--delay: 7"></div>
    <div class="ball paused" style="--delay: 8"></div>
    <div class="ball paused" style="--delay: 9"></div>

    <div class="button"></div>

    <div class="clockhand paused"></div>
</body>

</html>